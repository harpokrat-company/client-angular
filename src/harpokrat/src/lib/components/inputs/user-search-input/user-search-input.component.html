<div class="dropdown position-relative" (clickOutside)="open = false">
  <input [(ngModel)]="value" [disabled]="disabled" (focusin)="open = true"
         class="form-control" placeholder="Search Users">
  <ng-container *ngIf="usersObservable | async as users">
    <div class="dropdown-menu w-100" [class.show]="open" *ngIf="users.length > 0">
      <button type="button" tabindex="0" *ngFor="let user of users" class="dropdown-item"
              (click)="value = user.attributes.email; open = false">
      <span class="d-inline-flex align-items-center">
        <hpk-user-icon [user]="user.attributes" class="mr-3"></hpk-user-icon>
        <span>{{user.attributes.email}}</span>
      </span>
      </button>
    </div>
  </ng-container>
</div>
